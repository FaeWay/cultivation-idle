"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9267],{9267:(ee,p,r)=>{r.r(p),r.d(p,{WandererRoutingModule:()=>z});var g=r(9705),f=r(8452),m=r(9253),_=r(1836),e=r(9863),d=r(9870),a=r(8962),c=r(9808),u=r(6445),b=r(4914);class v{constructor(i,n){this.element=i,this.baseName="Herbal Poultice",this.RegenerateDisplayName(),n?this.qi=n:n=new u.Z,this.element=i,this.RegenerateDisplayName(),this.baseResourceAmount=new u.Z(1),this.loopTime=1e3,this.lastTick=0,b.h.CalcBarPercValues(this)}RegenerateDisplayName(){this.displayName=m.a.display.get(this.element)+" Element "+this.baseName}}function w(t,i){if(1&t&&(e.TgZ(0,"ion-item"),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.AsE(" ",n.key.displayName," x ",n.value.valueOf()," ")}}function C(t,i){if(1&t&&(e.TgZ(0,"ion-item",4),e._uU(1),e.qZA()),2&t){const n=i.$implicit,o=e.oxw();e.Q6J("color",o.DetermineHighlightColor(n.key,n.value)),e.xp6(1),e.AsE(" ",n.key.displayName," x ",o.FilterNaN(n.key)," ")}}let T=(()=>{class t{constructor(n){this.gds=n}ngOnInit(){}DetermineHighlightColor(n,o){let s=!1;return this.gds.GetResourceValue(n).isNan()&&(s=!0),s||-1===this.gds.GetResourceValue(n).cmp(o)&&(s=!0),s?"warning":"success"}CanCraft(){let n=!0;for(let[o,s]of this.requiredItems)if(n="warning"!==this.DetermineHighlightColor(o,s),!n)return n;return n}FilterNaN(n){let o=this.gds.GetResourceValue(n);return o.isNan()?"0":o.valueOf()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(d.u))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cvi-resource-consumer-action"]],inputs:{actionName:"actionName",requiredItems:"requiredItems",timeTaken:"timeTaken",outputItem:"outputItem",outputAmount:"outputAmount"},decls:31,vars:12,consts:[[4,"ngFor","ngForOf"],[3,"color",4,"ngFor","ngForOf"],["expand","block",3,"color"],["name","hammer","slot","start"],[3,"color"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-card")(1,"ion-card-header"),e._uU(2,"ACTION TO PERFORM"),e.qZA(),e.TgZ(3,"ion-card")(4,"ion-card-header"),e._uU(5,"REQS"),e.qZA(),e.TgZ(6,"ion-card-content")(7,"ion-grid")(8,"ion-row")(9,"ion-col")(10,"ion-list")(11,"ion-list-header"),e._uU(12,"Resources Needed"),e.qZA(),e.YNc(13,w,2,2,"ion-item",0),e.ALo(14,"keyvalue"),e.qZA()(),e.TgZ(15,"ion-col")(16,"ion-list")(17,"ion-list-header"),e._uU(18,"Currently Have"),e.qZA(),e.YNc(19,C,2,3,"ion-item",1),e.ALo(20,"keyvalue"),e.qZA()()()()(),e.TgZ(21,"ion-card")(22,"ion-card-header"),e._uU(23),e.qZA(),e.TgZ(24,"ion-card-content")(25,"ion-list")(26,"ion-item"),e._uU(27),e.qZA()(),e.TgZ(28,"ion-button",2),e._UZ(29,"ion-icon",3),e._uU(30),e.qZA()()()()()),2&n&&(e.xp6(13),e.Q6J("ngForOf",e.lcZ(14,8,o.requiredItems)),e.xp6(6),e.Q6J("ngForOf",e.lcZ(20,10,o.requiredItems)),e.xp6(4),e.AsE("Craft ",o.outputAmount," of ",o.outputItem.displayName,""),e.xp6(4),e.hij("Takes: ",o.timeTaken/1e3," second(s)"),e.xp6(1),e.Q6J("color",o.CanCraft()?"success":"warning"),e.xp6(2),e.AsE(" Craft ",o.outputAmount.valueOf()," ",o.outputItem.displayName," "))},directives:[a.PM,a.Zi,a.FN,a.jY,a.Nd,a.wI,a.q_,a.yh,c.sg,a.Ie,a.YG,a.gu],pipes:[c.Nd],styles:[""]}),t})(),Z=(()=>{class t{constructor(){this.testReqs=new Map,this.testOutput=new v(m.W.wood),this.outputAmount=new u.Z(1),this.testReqs.set(new f.f(m.W.metal),new u.Z(10))}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["cvi-wanderer-crafting"]],decls:1,vars:5,consts:[[3,"actionName","requiredItems","timeTaken","outputItem","outputAmount"]],template:function(n,o){1&n&&e._UZ(0,"cvi-resource-consumer-action",0),2&n&&e.Q6J("actionName","Craft Herbal Poultice")("requiredItems",o.testReqs)("timeTaken",1e3)("outputItem",o.testOutput)("outputAmount",o.outputAmount)},directives:[T],styles:[""]}),t})();function I(t,i){if(1&t&&(e.TgZ(0,"ion-label"),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.actionName)}}function N(t,i){if(1&t&&(e.TgZ(0,"ion-label"),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij("Explore further in the ",n.baseLocation.name,"")}}function A(t,i){if(1&t&&e._UZ(0,"ion-progress-bar",3),2&t){const n=e.oxw();e.Q6J("value",n.barVal)}}let L=(()=>{class t{constructor(n){this.data=n,this.delayComplete=new e.vpe,this.barVal=0,this.gds=n}ngOnInit(){if(this.isLocationUnlock&&(this.randomUnlockLocaiton=this.gds.FindRandomSubLocation(this.baseLocation),void 0!==this.randomUnlockLocaiton&&(this.locBarPerc=100/(this.randomUnlockLocaiton.unlockTime/100)/100,void 0===this.locBarPerc)))throw Error("Location % Per-Tick is NaN")}RandomElementNewItem(){this.gds.GenerateRandomElementFromLocationItem(this.baseLocation,this.item)}SpecificElementNewItem(n){this.gds.UpSertResourceValue(n,n.baseResourceAmount)}AllNeededFields(){if(void 0===this.item||void 0===this.baseLocation)return!0;if(this.isLocationUnlock&&this.generateRandomItemFromBase)throw new Error("Unlock a location OR an item. NOT BOTH");return!1}startTimer(){this.timer=setInterval(()=>{this.updateProgressBar()},100)}updateProgressBar(){this.barVal<1?this.barVal+=this.isLocationUnlock?this.locBarPerc:this.item.percentPerTick:(clearInterval(this.timer),this.barVal=0,this.isLocationUnlock?(this.gds.DiscoverLocation(this.randomUnlockLocaiton),this.randomUnlockLocaiton=this.gds.FindRandomSubLocation(this.baseLocation)):this.generateRandomItemFromBase?this.RandomElementNewItem():this.SpecificElementNewItem(this.item))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(d.u))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cvi-unlock-new-item"]],inputs:{item:"item",baseLocation:"baseLocation",generateRandomItemFromBase:"generateRandomItemFromBase",isLocationUnlock:"isLocationUnlock",actionName:"actionName"},outputs:{delayComplete:"delayComplete"},decls:6,vars:4,consts:[[1,"full-width",2,"width","100%",3,"disabled","click"],[4,"ngIf"],[3,"value",4,"ngIf"],[3,"value"]],template:function(n,o){1&n&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return o.startTimer()}),e.TgZ(1,"ion-card")(2,"ion-card-content"),e.YNc(3,I,2,1,"ion-label",1),e.YNc(4,N,2,1,"ion-label",1),e.YNc(5,A,1,1,"ion-progress-bar",2),e.qZA()()()),2&n&&(e.Q6J("disabled",o.AllNeededFields()),e.xp6(3),e.Q6J("ngIf",!o.isLocationUnlock),e.xp6(1),e.Q6J("ngIf",o.isLocationUnlock),e.xp6(1),e.Q6J("ngIf",o.barVal>0))},directives:[a.PM,a.FN,c.O5,a.Q$,a.X7],styles:[""]}),t})();var h=r(4182);function y(t,i){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij(" (",n.item.baseResourceAmount.div(n.item.loopTime/1e3),"/ sec) ")}}let U=(()=>{class t{constructor(){this.onClick=new e.vpe,this.displayItemsPerSec=!1}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["cvi-item-progress-bar"]],inputs:{item:"item",totalHeld:"totalHeld",action:"action",actionDisplayOverride:"actionDisplayOverride",displayItemsPerSec:"displayItemsPerSec"},outputs:{onClick:"onClick"},decls:8,vars:4,consts:[[4,"ngIf"],[1,"action-progress-bar",3,"value"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-card")(1,"ion-card-header"),e._uU(2),e.YNc(3,y,2,1,"span",0),e._uU(4),e.qZA(),e.TgZ(5,"ion-card-content")(6,"ion-row"),e._UZ(7,"ion-progress-bar",1),e.qZA()()()),2&n&&(e.xp6(2),e.hij("",o.item.displayName," "),e.xp6(1),e.Q6J("ngIf",o.displayItemsPerSec),e.xp6(1),e.hij(" : ",o.totalHeld," "),e.xp6(3),e.s9C("value",o.item.barValue))},directives:[a.PM,a.Zi,c.O5,a.FN,a.Nd,a.X7],styles:[".action-progress-bar[_ngcontent-%COMP%]{align-self:center}"]}),t})();function W(t,i){if(1&t&&e._UZ(0,"cvi-unlock-new-item",6),2&t){const n=e.oxw();e.Q6J("item",n.weakSpiritHerb)("isLocationUnlock",!0)("generateRandomItemFromBase",!1)("baseLocation",n.baseLocation)}}function k(t,i){1&t&&(e.TgZ(0,"ion-card",7)(1,"ion-card-header"),e._uU(2,"All locations discovered"),e.qZA()())}function x(t,i){1&t&&(e.TgZ(0,"ion-card",7)(1,"ion-card-header"),e._uU(2,"No location to wander in selected..."),e.qZA()())}function F(t,i){if(1&t&&(e.TgZ(0,"ion-select-option"),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.name)}}function H(t,i){if(1&t&&e._UZ(0,"cvi-unlock-new-item",8),2&t){const n=e.oxw();e.Q6J("item",n.weakSpiritHerb)("generateRandomItemFromBase",!0)("baseLocation",n.selectedLocation)("actionName","Hunt For Herbs")}}function O(t,i){1&t&&(e.TgZ(0,"ion-card",7)(1,"ion-card-header"),e._uU(2,"All Items Discovered"),e.qZA()())}function R(t,i){if(1&t&&(e.TgZ(0,"ion-select-option"),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.displayName)}}function S(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"ion-button",12),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).startGathering()}),e._uU(1),e.qZA()}if(2&t){const n=e.oxw(2);e.xp6(1),e.hij(" Gather ",n.selectedHerb.displayName,"")}}function q(t,i){if(1&t&&e._UZ(0,"cvi-item-progress-bar",13),2&t){const n=e.oxw(2);e.Q6J("item",n.selectedHerb)("totalHeld",n.gds.GetResourceValue(n.selectedHerb))("action","Gathering...")("displayItemsPerSec",!1)}}function J(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"ion-card")(1,"ion-card-header"),e._uU(2,"Gather Herbs"),e.qZA(),e.TgZ(3,"ion-select",9),e.NdJ("ngModelChange",function(s){return e.CHM(n),e.oxw().selectedHerbName=s})("ionChange",function(){return e.CHM(n),e.oxw().herbSelectionChanged()}),e.YNc(4,R,2,1,"ion-select-option",3),e.qZA(),e.YNc(5,S,2,1,"ion-button",10),e.YNc(6,q,1,4,"cvi-item-progress-bar",11),e.qZA()}if(2&t){const n=e.oxw();e.xp6(3),e.Q6J("ngModel",n.selectedHerbName),e.xp6(1),e.Q6J("ngForOf",n.possibleHerbs),e.xp6(1),e.Q6J("ngIf",void 0!==n.selectedHerb),e.xp6(1),e.Q6J("ngIf",void 0!==n.selectedHerb)}}let Q=(()=>{class t{constructor(n){this.data=n,this.gds=n,this.possibleHerbs=new Array}ngOnInit(){this.possibleLocations=this.gds.GetKnowLocationsFromBase(this.baseLocation)}updateSelectionLocation(){for(let n=0;n<this.possibleLocations.length;n++){let o=this.possibleLocations[n];0===o.name.localeCompare(this.selectedLocationName)&&(this.selectedLocation=o)}}showSearchForHerbs(){return!(void 0===this.selectedLocation||this.gds.HaveDiscoveredAllElementVariantsInArea(this.selectedLocation,this.weakSpiritHerb))}foundAllLocations(){return this.gds.FoundAllSubLocations(this.selectedLocation)}knowAboutHerbs(){return!!this.gds.IsBaseItemKnown(this.weakSpiritHerb)&&(this.possibleHerbs=this.gds.GetAllKnownResourcesOfType(this.weakSpiritHerb),!0)}herbSelectionChanged(){for(let n=0;n<this.possibleHerbs.length;n++){let o=this.possibleHerbs[n];0===o.displayName.localeCompare(this.selectedHerbName)&&(this.selectedHerb=o)}}startGathering(){this.gds.StopTimerForItem(this.selectedHerb),this.gds.StartRestartTimer(this.selectedHerb)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(d.u))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cvi-wanderer-wandering"]],inputs:{weakSpiritHerb:"weakSpiritHerb",baseLocation:"baseLocation"},decls:15,vars:9,consts:[[3,"item","isLocationUnlock","generateRandomItemFromBase","baseLocation",4,"ngIf"],["color","medium",4,"ngIf"],["placeholder","Select Location","interface","popover",3,"ngModel","ngModelChange","ionChange"],[4,"ngFor","ngForOf"],[3,"item","generateRandomItemFromBase","baseLocation","actionName",4,"ngIf"],[4,"ngIf"],[3,"item","isLocationUnlock","generateRandomItemFromBase","baseLocation"],["color","medium"],[3,"item","generateRandomItemFromBase","baseLocation","actionName"],["placeholder","Which herb?","interface","popover",3,"ngModel","ngModelChange","ionChange"],["fill","outline","expand","full",3,"click",4,"ngIf"],[3,"item","totalHeld","action","displayItemsPerSec",4,"ngIf"],["fill","outline","expand","full",3,"click"],[3,"item","totalHeld","action","displayItemsPerSec"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-card")(1,"ion-card-header"),e._uU(2),e.qZA(),e.YNc(3,W,1,4,"cvi-unlock-new-item",0),e.YNc(4,k,3,0,"ion-card",1),e.qZA(),e.TgZ(5,"ion-card"),e.YNc(6,x,3,0,"ion-card",1),e.TgZ(7,"ion-card-header"),e._uU(8,"Wandering in..."),e.qZA(),e.TgZ(9,"ion-card-content")(10,"ion-select",2),e.NdJ("ngModelChange",function(l){return o.selectedLocationName=l})("ionChange",function(){return o.updateSelectionLocation()}),e.YNc(11,F,2,1,"ion-select-option",3),e.qZA(),e.YNc(12,H,1,4,"cvi-unlock-new-item",4),e.YNc(13,O,3,0,"ion-card",1),e.qZA()(),e.YNc(14,J,7,4,"ion-card",5)),2&n&&(e.xp6(2),e.hij("Explore for new Areas in the ",o.baseLocation.name,"."),e.xp6(1),e.Q6J("ngIf",!o.gds.FoundAllSubLocations(o.baseLocation)),e.xp6(1),e.Q6J("ngIf",o.gds.FoundAllSubLocations(o.baseLocation)),e.xp6(2),e.Q6J("ngIf",!o.selectedLocation),e.xp6(4),e.Q6J("ngModel",o.selectedLocationName),e.xp6(1),e.Q6J("ngForOf",o.gds.GetKnowLocationsFromBase(o.baseLocation)),e.xp6(1),e.Q6J("ngIf",o.showSearchForHerbs()),e.xp6(1),e.Q6J("ngIf",!o.showSearchForHerbs()&&o.gds.IsBaseItemKnown(o.weakSpiritHerb)),e.xp6(1),e.Q6J("ngIf",o.knowAboutHerbs()))},directives:[a.PM,a.Zi,c.O5,L,a.FN,a.t9,a.QI,h.JJ,h.On,c.sg,a.n0,a.YG,U],styles:[""]}),t})(),M=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["cvi-general-action-repeatable"]],decls:5,vars:0,template:function(n,o){1&n&&(e.TgZ(0,"ion-card")(1,"ion-card-header"),e._uU(2,"ACTION TO TAKE"),e.qZA(),e.TgZ(3,"ion-card-content"),e._uU(4," Grants: ??? Time: ??? Boosts: Coming Soon "),e.qZA()())},directives:[a.PM,a.Zi,a.FN],styles:[""]}),t})(),P=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["cvi-wanderer-training"]],decls:1,vars:0,template:function(n,o){1&n&&e._UZ(0,"cvi-general-action-repeatable")},directives:[M],styles:[""]}),t})();function B(t,i){1&t&&(e.TgZ(0,"ion-segment-button",7),e._uU(1,"Wander"),e.qZA())}function Y(t,i){1&t&&(e.TgZ(0,"ion-segment-button",8),e._uU(1,"Training"),e.qZA())}function G(t,i){1&t&&(e.TgZ(0,"ion-segment-button",9),e._uU(1,"Crafting"),e.qZA())}function E(t,i){1&t&&(e.ynx(0),e.TgZ(1,"ion-card")(2,"ion-card-header"),e._uU(3,"Fae-Way Proclaims"),e.qZA(),e.TgZ(4,"ion-card-content"),e._uU(5," This page will contain: "),e.TgZ(6,"ul")(7,"li"),e._uU(8,"Locations Discovered"),e.qZA(),e.TgZ(9,"li"),e._uU(10,"Number of baseLocation left to discover"),e.qZA(),e.TgZ(11,"li"),e._uU(12,"Items that can be found in the known baseLocation"),e.qZA(),e.TgZ(13,"li"),e._uU(14,"Future Useful Stats"),e.qZA()()()(),e.BQk())}function V(t,i){1&t&&e._UZ(0,"cvi-wanderer-crafting")}function D(t,i){if(1&t&&e._UZ(0,"cvi-wanderer-wandering",10),2&t){const n=e.oxw();e.Q6J("baseLocation",n.baseLocation)("weakSpiritHerb",n.spiritHerb)}}function X(t,i){1&t&&e._UZ(0,"cvi-wanderer-training")}const $=[{path:"",component:(()=>{class t{constructor(n){this.gameData=n,this.activeSegment="wanderer-overview",this.gds=n,this.baseLocation=new _.GL,this.spiritHerb=new f.f(m.W.NULL)}ngOnInit(){this.baseLocation=new _.GL}segmentChanged(n){this.activeSegment=n.detail.value}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(d.u))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cvi-wanderer"]],decls:13,vars:7,consts:[["value","wanderer-overview",3,"ionChange"],["value","wanderer-overview"],["value","wander",4,"ngIf"],["value","training",4,"ngIf"],["value","crafting",4,"ngIf"],[4,"ngIf"],[3,"baseLocation","weakSpiritHerb",4,"ngIf"],["value","wander"],["value","training"],["value","crafting"],[3,"baseLocation","weakSpiritHerb"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-segment",0),e.NdJ("ionChange",function(l){return o.segmentChanged(l)}),e.TgZ(3,"ion-segment-button",1),e._uU(4,"Wanderer Overview"),e.qZA(),e.YNc(5,B,2,0,"ion-segment-button",2),e.YNc(6,Y,2,0,"ion-segment-button",3),e.YNc(7,G,2,0,"ion-segment-button",4),e.qZA()()(),e.TgZ(8,"ion-content"),e.YNc(9,E,15,0,"ng-container",5),e.YNc(10,V,1,0,"cvi-wanderer-crafting",5),e.YNc(11,D,1,2,"cvi-wanderer-wandering",6),e.YNc(12,X,1,0,"cvi-wanderer-training",5),e.qZA()),2&n&&(e.xp6(5),e.Q6J("ngIf",o.gds.wandererCanWander),e.xp6(1),e.Q6J("ngIf",o.gds.wandererCanTrain),e.xp6(1),e.Q6J("ngIf",o.gds.wandererCanCraft),e.xp6(2),e.Q6J("ngIf",0===o.activeSegment.localeCompare("wanderer-overview")),e.xp6(1),e.Q6J("ngIf",0===o.activeSegment.localeCompare("crafting")),e.xp6(1),e.Q6J("ngIf",0===o.activeSegment.localeCompare("wander")),e.xp6(1),e.Q6J("ngIf",0===o.activeSegment.localeCompare("training")))},directives:[a.Gu,a.sr,a.cJ,a.QI,a.GO,c.O5,a.W2,a.PM,a.Zi,a.FN,Z,Q,P],styles:[""]}),t})(),children:[]},{path:"**",component:r(7237).l}];let z=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[g.Bz.forChild($)],g.Bz]}),t})()}}]);