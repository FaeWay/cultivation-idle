"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4249],{4249:(V,m,r)=>{r.r(m),r.d(m,{WandererRoutingModule:()=>E});var g=r(9705),f=r(9398),_=r(9253),p=r(1836),e=r(9863),d=r(9870),a=r(2159),c=r(9808);let h=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvi-wanderer-crafting"]],decls:2,vars:0,template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1," crafting: make medicine\n"),e.qZA())},styles:[""]}),n})();function b(n,i){if(1&n&&(e.TgZ(0,"ion-label"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.actionName)}}function v(n,i){if(1&n&&(e.TgZ(0,"ion-label"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("Explore further in the ",t.baseLocation.name,"")}}function w(n,i){if(1&n&&e._UZ(0,"ion-progress-bar",3),2&n){const t=e.oxw();e.Q6J("value",t.barVal)}}let C=(()=>{class n{constructor(t){this.data=t,this.delayComplete=new e.vpe,this.barVal=0,this.gds=t}ngOnInit(){if(this.isLocationUnlock&&(this.randomUnlockLocaiton=this.gds.FindRandomSubLocation(this.baseLocation),void 0!==this.randomUnlockLocaiton&&(this.locBarPerc=100/(this.randomUnlockLocaiton.unlockTime/100)/100,void 0===this.locBarPerc)))throw Error("Location % Per-Tick is NaN")}RandomElementNewItem(){this.gds.GenerateRandomElementFromLocationItem(this.baseLocation,this.item)}SpecificElementNewItem(t){this.gds.UpSertResourceValue(t,t.baseResourceAmount)}AllNeededFields(){if(void 0===this.item||void 0===this.baseLocation)return!0;if(this.isLocationUnlock&&this.generateRandomItemFromBase)throw new Error("Unlock a location OR an item. NOT BOTH");return!1}startTimer(){this.timer=setInterval(()=>{this.updateProgressBar()},100)}updateProgressBar(){this.barVal<1?this.barVal+=this.isLocationUnlock?this.locBarPerc:this.item.percentPerTick:(clearInterval(this.timer),this.barVal=0,this.isLocationUnlock?(this.gds.DiscoverLocation(this.randomUnlockLocaiton),this.randomUnlockLocaiton=this.gds.FindRandomSubLocation(this.baseLocation)):this.generateRandomItemFromBase?this.RandomElementNewItem():this.SpecificElementNewItem(this.item))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.u))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvi-unlock-new-item"]],inputs:{item:"item",baseLocation:"baseLocation",generateRandomItemFromBase:"generateRandomItemFromBase",isLocationUnlock:"isLocationUnlock",actionName:"actionName"},outputs:{delayComplete:"delayComplete"},decls:6,vars:4,consts:[[1,"full-width",2,"width","100%",3,"disabled","click"],[4,"ngIf"],[3,"value",4,"ngIf"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return o.startTimer()}),e.TgZ(1,"ion-card")(2,"ion-card-content"),e.YNc(3,b,2,1,"ion-label",1),e.YNc(4,v,2,1,"ion-label",1),e.YNc(5,w,1,1,"ion-progress-bar",2),e.qZA()()()),2&t&&(e.Q6J("disabled",o.AllNeededFields()),e.xp6(3),e.Q6J("ngIf",!o.isLocationUnlock),e.xp6(1),e.Q6J("ngIf",o.isLocationUnlock),e.xp6(1),e.Q6J("ngIf",o.barVal>0))},directives:[a.PM,a.FN,c.O5,a.Q$,a.X7],styles:[""]}),n})();var u=r(4182);function I(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" (",t.item.baseResourceAmount.div(t.item.loopTime/1e3),"/ sec) ")}}let T=(()=>{class n{constructor(){this.onClick=new e.vpe,this.displayItemsPerSec=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvi-item-progress-bar"]],inputs:{item:"item",totalHeld:"totalHeld",action:"action",actionDisplayOverride:"actionDisplayOverride",displayItemsPerSec:"displayItemsPerSec"},outputs:{onClick:"onClick"},decls:8,vars:4,consts:[[4,"ngIf"],[1,"action-progress-bar",3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-card")(1,"ion-card-header"),e._uU(2),e.YNc(3,I,2,1,"span",0),e._uU(4),e.qZA(),e.TgZ(5,"ion-card-content")(6,"ion-row"),e._UZ(7,"ion-progress-bar",1),e.qZA()()()),2&t&&(e.xp6(2),e.hij("",o.item.displayName," "),e.xp6(1),e.Q6J("ngIf",o.displayItemsPerSec),e.xp6(1),e.hij(" : ",o.totalHeld," "),e.xp6(3),e.s9C("value",o.item.barValue))},directives:[a.PM,a.Zi,c.O5,a.FN,a.Nd,a.X7],styles:[".action-progress-bar[_ngcontent-%COMP%]{align-self:center}"]}),n})();function L(n,i){if(1&n&&e._UZ(0,"cvi-unlock-new-item",6),2&n){const t=e.oxw();e.Q6J("item",t.weakSpiritHerb)("isLocationUnlock",!0)("generateRandomItemFromBase",!1)("baseLocation",t.baseLocation)}}function Z(n,i){1&n&&(e.TgZ(0,"ion-card",7)(1,"ion-card-header"),e._uU(2,"All locations discovered"),e.qZA()())}function W(n,i){1&n&&(e.TgZ(0,"ion-card",7)(1,"ion-card-header"),e._uU(2,"No location to wander in selected..."),e.qZA()())}function N(n,i){if(1&n&&(e.TgZ(0,"ion-select-option"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.name)}}function U(n,i){if(1&n&&e._UZ(0,"cvi-unlock-new-item",8),2&n){const t=e.oxw();e.Q6J("item",t.weakSpiritHerb)("generateRandomItemFromBase",!0)("baseLocation",t.selectedLocation)("actionName","Hunt For Herbs")}}function k(n,i){1&n&&(e.TgZ(0,"ion-card",7)(1,"ion-card-header"),e._uU(2,"All Items Discovered"),e.qZA()())}function x(n,i){if(1&n&&(e.TgZ(0,"ion-select-option"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.displayName)}}function A(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",12),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).startGathering()}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Gather ",t.selectedHerb.displayName,"")}}function y(n,i){if(1&n&&e._UZ(0,"cvi-item-progress-bar",13),2&n){const t=e.oxw(2);e.Q6J("item",t.selectedHerb)("totalHeld",t.gds.GetResourceValue(t.selectedHerb))("action","Gathering...")("displayItemsPerSec",!1)}}function H(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"ion-card")(1,"ion-card-header"),e._uU(2,"Gather Herbs"),e.qZA(),e.TgZ(3,"ion-select",9),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().selectedHerbName=s})("ionChange",function(){return e.CHM(t),e.oxw().herbSelectionChanged()}),e.YNc(4,x,2,1,"ion-select-option",3),e.qZA(),e.YNc(5,A,2,1,"ion-button",10),e.YNc(6,y,1,4,"cvi-item-progress-bar",11),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.selectedHerbName),e.xp6(1),e.Q6J("ngForOf",t.possibleHerbs),e.xp6(1),e.Q6J("ngIf",void 0!==t.selectedHerb),e.xp6(1),e.Q6J("ngIf",void 0!==t.selectedHerb)}}let S=(()=>{class n{constructor(t){this.data=t,this.gds=t,this.possibleHerbs=new Array}ngOnInit(){this.possibleLocations=this.gds.GetKnowLocationsFromBase(this.baseLocation)}updateSelectionLocation(){for(let t=0;t<this.possibleLocations.length;t++){let o=this.possibleLocations[t];0===o.name.localeCompare(this.selectedLocationName)&&(this.selectedLocation=o)}}showSearchForHerbs(){return!(void 0===this.selectedLocation||this.gds.HaveDiscoveredAllElementVariantsInArea(this.selectedLocation,this.weakSpiritHerb))}foundAllLocations(){return this.gds.FoundAllSubLocations(this.selectedLocation)}knowAboutHerbs(){return!!this.gds.IsBaseItemKnown(this.weakSpiritHerb)&&(this.possibleHerbs=this.gds.GetAllKnownResourcesOfType(this.weakSpiritHerb),!0)}herbSelectionChanged(){for(let t=0;t<this.possibleHerbs.length;t++){let o=this.possibleHerbs[t];0===o.displayName.localeCompare(this.selectedHerbName)&&(this.selectedHerb=o)}}startGathering(){this.gds.StopTimerForItem(this.selectedHerb),this.gds.StartRestartTimer(this.selectedHerb)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.u))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvi-wanderer-wandering"]],inputs:{weakSpiritHerb:"weakSpiritHerb",baseLocation:"baseLocation"},decls:15,vars:10,consts:[[3,"item","isLocationUnlock","generateRandomItemFromBase","baseLocation",4,"ngIf"],["color","medium",4,"ngIf"],["placeholder","Select Location","interface","popover",3,"ngModel","hidden","ngModelChange","ionChange"],[4,"ngFor","ngForOf"],[3,"item","generateRandomItemFromBase","baseLocation","actionName",4,"ngIf"],[4,"ngIf"],[3,"item","isLocationUnlock","generateRandomItemFromBase","baseLocation"],["color","medium"],[3,"item","generateRandomItemFromBase","baseLocation","actionName"],["placeholder","Which herb?","interface","popover",3,"ngModel","ngModelChange","ionChange"],["fill","outline","expand","full",3,"click",4,"ngIf"],[3,"item","totalHeld","action","displayItemsPerSec",4,"ngIf"],["fill","outline","expand","full",3,"click"],[3,"item","totalHeld","action","displayItemsPerSec"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-card")(1,"ion-card-header"),e._uU(2),e.qZA(),e.YNc(3,L,1,4,"cvi-unlock-new-item",0),e.YNc(4,Z,3,0,"ion-card",1),e.qZA(),e.TgZ(5,"ion-card"),e.YNc(6,W,3,0,"ion-card",1),e.TgZ(7,"ion-card-header"),e._uU(8,"Wandering in..."),e.qZA(),e.TgZ(9,"ion-card-content")(10,"ion-select",2),e.NdJ("ngModelChange",function(l){return o.selectedLocationName=l})("ionChange",function(){return o.updateSelectionLocation()}),e.YNc(11,N,2,1,"ion-select-option",3),e.qZA(),e.YNc(12,U,1,4,"cvi-unlock-new-item",4),e.YNc(13,k,3,0,"ion-card",1),e.qZA()(),e.YNc(14,H,7,4,"ion-card",5)),2&t&&(e.xp6(2),e.hij("Explore for new Areas in the ",o.baseLocation.name,"."),e.xp6(1),e.Q6J("ngIf",!o.gds.FoundAllSubLocations(o.baseLocation)),e.xp6(1),e.Q6J("ngIf",o.gds.FoundAllSubLocations(o.baseLocation)),e.xp6(2),e.Q6J("ngIf",!o.selectedLocation),e.xp6(4),e.Q6J("ngModel",o.selectedLocationName)("hidden",o.hideLocationSelect),e.xp6(1),e.Q6J("ngForOf",o.gds.GetKnowLocationsFromBase(o.baseLocation)),e.xp6(1),e.Q6J("ngIf",o.showSearchForHerbs()),e.xp6(1),e.Q6J("ngIf",!o.showSearchForHerbs()&&o.gds.IsBaseItemKnown(o.weakSpiritHerb)),e.xp6(1),e.Q6J("ngIf",o.knowAboutHerbs()))},directives:[a.PM,a.Zi,c.O5,C,a.FN,a.t9,a.QI,u.JJ,u.On,c.sg,a.n0,a.YG,T],styles:[""]}),n})(),F=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvi-wanderer-training"]],decls:2,vars:0,template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1," wanderer-training works!\n"),e.qZA())},styles:[""]}),n})();function O(n,i){1&n&&(e.TgZ(0,"ion-segment-button",7),e._uU(1,"Wander"),e.qZA())}function J(n,i){1&n&&(e.TgZ(0,"ion-segment-button",8),e._uU(1,"Training"),e.qZA())}function Q(n,i){1&n&&(e.TgZ(0,"ion-segment-button",9),e._uU(1,"Crafting"),e.qZA())}function M(n,i){1&n&&(e.ynx(0),e.TgZ(1,"ion-card")(2,"ion-card-header"),e._uU(3,"Fae-Way Proclaims"),e.qZA(),e.TgZ(4,"ion-card-content"),e._uU(5," This page will contain: "),e.TgZ(6,"ul")(7,"li"),e._uU(8,"Locations Discovered"),e.qZA(),e.TgZ(9,"li"),e._uU(10,"Number of baseLocation left to discover"),e.qZA(),e.TgZ(11,"li"),e._uU(12,"Items that can be found in the known baseLocation"),e.qZA(),e.TgZ(13,"li"),e._uU(14,"Future Useful Stats"),e.qZA()()()(),e.BQk())}function B(n,i){1&n&&e._UZ(0,"cvi-wanderer-crafting")}function R(n,i){if(1&n&&e._UZ(0,"cvi-wanderer-wandering",10),2&n){const t=e.oxw();e.Q6J("baseLocation",t.baseLocation)("weakSpiritHerb",t.spiritHerb)}}function q(n,i){1&n&&e._UZ(0,"cvi-wanderer-training")}const G=[{path:"",component:(()=>{class n{constructor(t){this.gameData=t,this.activeSegment="wanderer-overview",this.gds=t,this.baseLocation=new p.GL,this.spiritHerb=new f.f(_.W.NULL)}ngOnInit(){this.baseLocation=new p.GL}segmentChanged(t){this.activeSegment=t.detail.value}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.u))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvi-wanderer"]],decls:13,vars:7,consts:[["value","wanderer-overview",3,"ionChange"],["value","wanderer-overview"],["value","wander",4,"ngIf"],["value","training",4,"ngIf"],["value","crafting",4,"ngIf"],[4,"ngIf"],[3,"baseLocation","weakSpiritHerb",4,"ngIf"],["value","wander"],["value","training"],["value","crafting"],[3,"baseLocation","weakSpiritHerb"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-segment",0),e.NdJ("ionChange",function(l){return o.segmentChanged(l)}),e.TgZ(3,"ion-segment-button",1),e._uU(4,"Wanderer Overview"),e.qZA(),e.YNc(5,O,2,0,"ion-segment-button",2),e.YNc(6,J,2,0,"ion-segment-button",3),e.YNc(7,Q,2,0,"ion-segment-button",4),e.qZA()()(),e.TgZ(8,"ion-content"),e.YNc(9,M,15,0,"ng-container",5),e.YNc(10,B,1,0,"cvi-wanderer-crafting",5),e.YNc(11,R,1,2,"cvi-wanderer-wandering",6),e.YNc(12,q,1,0,"cvi-wanderer-training",5),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngIf",o.gds.wandererCanWander),e.xp6(1),e.Q6J("ngIf",o.gds.wandererCanTrain),e.xp6(1),e.Q6J("ngIf",o.gds.wandererCanCraft),e.xp6(2),e.Q6J("ngIf",0===o.activeSegment.localeCompare("wanderer-overview")),e.xp6(1),e.Q6J("ngIf",0===o.activeSegment.localeCompare("crafting")),e.xp6(1),e.Q6J("ngIf",0===o.activeSegment.localeCompare("wander")),e.xp6(1),e.Q6J("ngIf",0===o.activeSegment.localeCompare("training")))},directives:[a.Gu,a.sr,a.cJ,a.QI,a.GO,c.O5,a.W2,a.PM,a.Zi,a.FN,h,S,F],styles:[""]}),n})(),children:[]},{path:"**",component:r(7237).l}];let E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.Bz.forChild(G)],g.Bz]}),n})()}}]);