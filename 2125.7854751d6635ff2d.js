"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2125],{2125:(M,m,r)=>{r.r(m),r.d(m,{WandererRoutingModule:()=>J});var g=r(9705),f=r(9398),h=r(9253),u=r(1836),e=r(9863),d=r(9870),a=r(2159),l=r(9808);let _=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvi-wanderer-crafting"]],decls:2,vars:0,template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1," crafting: make medicine\n"),e.qZA())},styles:[""]}),n})();var p=r(4182);function v(n,i){if(1&n&&e._UZ(0,"ion-progress-bar",2),2&n){const t=e.oxw();e.Q6J("value",t.barVal)}}let w=(()=>{class n{constructor(t){this.data=t,this.delayComplete=new e.vpe,this.barVal=0,this.gds=t}ngOnInit(){}RandomElementNewItem(){this.gds.GenerateRandomElementFromLocationItem(this.location,this.item)}SpecificElementNewItem(t){this.gds.UpSertResourceValue(t,t.baseResourceAmount)}AllNeededFields(){if(void 0===this.item||void 0===this.location)return!0;if(this.IsLocationUnlock&&this.GenerateRandomItemFromBase)throw new Error("Unlock a location OR an item. NOT BOTH");return!1}startTimer(){this.timer=setInterval(()=>{this.updateProgressBar()},100)}updateProgressBar(){this.barVal<1?this.barVal+=this.item.percentPerTick:(clearInterval(this.timer),this.barVal=0,this.GenerateRandomItemFromBase?this.RandomElementNewItem():this.SpecificElementNewItem(this.item))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.u))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvi-unlock-new-item"]],inputs:{item:"item",location:"location",GenerateRandomItemFromBase:"GenerateRandomItemFromBase",IsLocationUnlock:"IsLocationUnlock",actionName:"actionName"},outputs:{delayComplete:"delayComplete"},decls:5,vars:3,consts:[[1,"full-width",2,"width","100%",3,"disabled","click"],[3,"value",4,"ngIf"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return o.startTimer()}),e.TgZ(1,"ion-card")(2,"ion-card-content"),e._uU(3),e.YNc(4,v,1,1,"ion-progress-bar",1),e.qZA()()()),2&t&&(e.Q6J("disabled",o.AllNeededFields()),e.xp6(3),e.hij(" ",o.actionName," "),e.xp6(1),e.Q6J("ngIf",o.barVal>0))},directives:[a.PM,a.FN,l.O5,a.X7],styles:[""]}),n})();function b(n,i){1&n&&(e.TgZ(0,"ion-card",5)(1,"ion-card-header"),e._uU(2,"No location to wander in selected..."),e.qZA()())}function C(n,i){if(1&n&&(e.TgZ(0,"ion-select-option"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.name)}}function T(n,i){if(1&n&&e._UZ(0,"cvi-unlock-new-item",6),2&n){const t=e.oxw();e.Q6J("item",t.weakSpiritHerb)("GenerateRandomItemFromBase",!0)("location",t.selectedLocation)("actionName","Hunt For Herbs")}}function W(n,i){if(1&n&&(e.TgZ(0,"ion-select-option"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.displayName)}}function Z(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"ion-card")(1,"ion-card-header"),e._uU(2,"Gather Herbs"),e.qZA(),e.TgZ(3,"ion-select",7),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().selectedHerbName=s})("ionChange",function(){return e.CHM(t),e.oxw().herbSelectionChanged()}),e.YNc(4,W,2,1,"ion-select-option",2),e.qZA(),e.TgZ(5,"ion-button",8),e._uU(6,"GATHER"),e.qZA(),e._UZ(7,"ion-progress-bar",9),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.selectedHerbName),e.xp6(1),e.Q6J("ngForOf",t.possibleHerbs)}}let I=(()=>{class n{constructor(t){this.data=t,this.gds=t,this.possibleHerbs=new Array}ngOnInit(){this.possibleLocations=this.gds.GetKnowLocationsFromBase(this.baseLocation)}updateSelectionLocation(){for(let t=0;t<this.possibleLocations.length;t++){let o=this.possibleLocations[t];0===o.name.localeCompare(this.selectedLocationName)&&(this.selectedLocation=o)}}showSearchForHerbs(){return!(void 0===this.selectedLocation||this.gds.HaveDiscoveredAllElementVariantsInArea(this.selectedLocation,this.weakSpiritHerb))}foundAllLocations(){return this.gds.FoundAllSubLocations(this.selectedLocation)}knowAboutHerbs(){return!!this.gds.IsBaseItemKnown(this.weakSpiritHerb)&&(this.possibleHerbs=this.gds.GetAllKnownResourcesOfType(this.weakSpiritHerb),!0)}herbSelectionChanged(){for(let t=0;t<this.possibleHerbs.length;t++){let o=this.possibleHerbs[t];0===o.displayName.localeCompare(this.selectedHerbName)&&(this.selectedHerb=o)}}haveLocationsToDiscover(){let t=!0;for(let o of this.possibleLocations)if(o.hasSubLocations&&(t=this.gds.FoundAllSubLocations(o),t))return!1;return!0}wanderableLocations(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.u))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvi-wanderer-wandering"]],inputs:{weakSpiritHerb:"weakSpiritHerb",baseLocation:"baseLocation"},decls:12,vars:6,consts:[["color","medium",4,"ngIf"],["placeholder","Select Location","interface","popover",3,"ngModel","hidden","ngModelChange","ionChange"],[4,"ngFor","ngForOf"],[3,"item","GenerateRandomItemFromBase","location","actionName",4,"ngIf"],[4,"ngIf"],["color","medium"],[3,"item","GenerateRandomItemFromBase","location","actionName"],["placeholder","Which herb?","interface","popover",3,"ngModel","ngModelChange","ionChange"],["fill","outline","expand","full"],["value","0.4"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-card")(1,"ion-card-header"),e._uU(2,"Go Wandering..."),e.qZA()(),e.TgZ(3,"ion-card"),e.YNc(4,b,3,0,"ion-card",0),e.TgZ(5,"ion-card-header"),e._uU(6,"Wandering in..."),e.qZA(),e.TgZ(7,"ion-card-content")(8,"ion-select",1),e.NdJ("ngModelChange",function(c){return o.selectedLocationName=c})("ionChange",function(){return o.updateSelectionLocation()}),e.YNc(9,C,2,1,"ion-select-option",2),e.qZA()()(),e.YNc(10,T,1,4,"cvi-unlock-new-item",3),e.YNc(11,Z,8,2,"ion-card",4)),2&t&&(e.xp6(4),e.Q6J("ngIf",!o.selectedLocation),e.xp6(4),e.Q6J("ngModel",o.selectedLocationName)("hidden",o.hideLocationSelect),e.xp6(1),e.Q6J("ngForOf",o.gds.GetKnowLocationsFromBase(o.baseLocation)),e.xp6(1),e.Q6J("ngIf",o.showSearchForHerbs()),e.xp6(1),e.Q6J("ngIf",o.knowAboutHerbs()))},directives:[a.PM,a.Zi,l.O5,a.FN,a.t9,a.QI,p.JJ,p.On,l.sg,a.n0,w,a.YG,a.X7],styles:[""]}),n})(),N=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvi-wanderer-training"]],decls:2,vars:0,template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1," wanderer-training works!\n"),e.qZA())},styles:[""]}),n})();function L(n,i){1&n&&(e.TgZ(0,"ion-segment-button",7),e._uU(1,"Wander"),e.qZA())}function A(n,i){1&n&&(e.TgZ(0,"ion-segment-button",8),e._uU(1,"Training"),e.qZA())}function U(n,i){1&n&&(e.TgZ(0,"ion-segment-button",9),e._uU(1,"Crafting"),e.qZA())}function F(n,i){1&n&&(e.ynx(0),e.TgZ(1,"ion-card")(2,"ion-card-header"),e._uU(3,"Fae-Way Proclaims"),e.qZA(),e.TgZ(4,"ion-card-content"),e._uU(5," This page will contain: "),e.TgZ(6,"ul")(7,"li"),e._uU(8,"Locations Discovered"),e.qZA(),e.TgZ(9,"li"),e._uU(10,"Number of baseLocation left to discover"),e.qZA(),e.TgZ(11,"li"),e._uU(12,"Items that can be found in the known baseLocation"),e.qZA(),e.TgZ(13,"li"),e._uU(14,"Future Useful Stats"),e.qZA()()()(),e.BQk())}function y(n,i){1&n&&e._UZ(0,"cvi-wanderer-crafting")}function H(n,i){if(1&n&&e._UZ(0,"cvi-wanderer-wandering",10),2&n){const t=e.oxw();e.Q6J("baseLocation",t.baseLocation)("weakSpiritHerb",t.spiritHerb)}}function O(n,i){1&n&&e._UZ(0,"cvi-wanderer-training")}const x=[{path:"",component:(()=>{class n{constructor(t){this.gameData=t,this.activeSegment="wanderer-overview",this.gds=t,this.baseLocation=new u.GL,this.spiritHerb=new f.f(h.W.NULL)}ngOnInit(){this.baseLocation=new u.GL}segmentChanged(t){this.activeSegment=t.detail.value}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.u))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cvi-wanderer"]],decls:13,vars:7,consts:[["value","wanderer-overview",3,"ionChange"],["value","wanderer-overview"],["value","wander",4,"ngIf"],["value","training",4,"ngIf"],["value","crafting",4,"ngIf"],[4,"ngIf"],[3,"baseLocation","weakSpiritHerb",4,"ngIf"],["value","wander"],["value","training"],["value","crafting"],[3,"baseLocation","weakSpiritHerb"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-segment",0),e.NdJ("ionChange",function(c){return o.segmentChanged(c)}),e.TgZ(3,"ion-segment-button",1),e._uU(4,"Wanderer Overview"),e.qZA(),e.YNc(5,L,2,0,"ion-segment-button",2),e.YNc(6,A,2,0,"ion-segment-button",3),e.YNc(7,U,2,0,"ion-segment-button",4),e.qZA()()(),e.TgZ(8,"ion-content"),e.YNc(9,F,15,0,"ng-container",5),e.YNc(10,y,1,0,"cvi-wanderer-crafting",5),e.YNc(11,H,1,2,"cvi-wanderer-wandering",6),e.YNc(12,O,1,0,"cvi-wanderer-training",5),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngIf",o.gds.wandererCanWander),e.xp6(1),e.Q6J("ngIf",o.gds.wandererCanTrain),e.xp6(1),e.Q6J("ngIf",o.gds.wandererCanCraft),e.xp6(2),e.Q6J("ngIf",0===o.activeSegment.localeCompare("wanderer-overview")),e.xp6(1),e.Q6J("ngIf",0===o.activeSegment.localeCompare("crafting")),e.xp6(1),e.Q6J("ngIf",0===o.activeSegment.localeCompare("wander")),e.xp6(1),e.Q6J("ngIf",0===o.activeSegment.localeCompare("training")))},directives:[a.Gu,a.sr,a.cJ,a.QI,a.GO,l.O5,a.W2,a.PM,a.Zi,a.FN,_,I,N],styles:[""]}),n})(),children:[]},{path:"**",component:r(7237).l}];let J=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.Bz.forChild(x)],g.Bz]}),n})()}}]);